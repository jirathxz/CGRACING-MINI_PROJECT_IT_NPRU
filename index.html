<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - E-Commerce</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/5efd6bd50f.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container-fluid">
        <header class="site-header">
            <div class="search-box">
                <input type="text" placeholder="ค้นหาสินค้าที่ต้องการ...">
                <button class="btn"><i class="fa-solid fa-magnifying-glass"></i></button>
            </div>
            <div class="header-actions">
                <a href="#"><i class="fa-solid fa-bell"></i></a>
                <a href="#"><i class="fa-solid fa-cart-shopping"></i></a>
                <a href="#"><i class="fa-solid fa-moon"></i></a>
                <a href="#" class="user-profile"><img src="http://placehold.co/36x36" alt=""></a>
            </div>
        </header>

        <aside class="site-sidebar">
            <div class="sidebar-header">
                <div class="web-name">
                    <p class="main-text">CG</p>
                    <p class="sub-text">RACING</p>
                </div>
            </div>
            <ul>
                <li><a href="index.html" class="nav-active"><i class="fa-solid fa-house"></i>หน้าหลัก</a></li>
                <li><a href="discover.html"><i class="fa-solid fa-magnifying-glass"></i>ค้นหา</a></li>
                <li><a href="contact.html"><i class="fa-solid fa-phone"></i>ติดต่อ</a></li>
                <li><a href="seller.html"><i class="fa-solid fa-grip"></i>โหมดผู้ขาย</a></li>
            </ul>
        </aside>

        <main>
            <article>
                <div class="slider-container">
                    <div class="slider-wrapper">
                        <div class="hero-banner active">
                            <div class="banner-content">
                                <h1>Test</h1>
                                <p>Banner 1</p>
                                <button class="btn btn-active">ช้อปเลย</button>
                            </div>
                        </div>

                        <div class="hero-banner" style="background: linear-gradient(135deg, #2563eb, #1e40af);">
                            <div class="banner-content">
                                <h1>Test</h1>
                                <p>Banner 2</p>
                                <button class="btn btn-active">ช้อปเลย</button>
                            </div>
                        </div>
                        <div class="hero-banner" style="background: linear-gradient(135deg, #eb25d4, #861eaf);">
                            <div class="banner-content">
                                <h1>Test</h1>
                                <p>Banner 3</p>
                                <button class="btn btn-active">ช้อปเลย</button>
                            </div>
                        </div>
                    </div>

                    <div class="slider-dots">
                        <span class="dot active"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>
                </div>

                <section class="home-section">
                    <div class="section-header">
                        <h2>หมวดหมู่ยอดนิยม</h2>
                        <a href="#">ดูทั้งหมด</a>
                    </div>
                    <div class="categories-grid">
                        <div class="cat-item"><i class="fa-solid fa-oil-can"></i>
                            <p>น้ำมันเครื่อง</p>
                        </div>
                        <div class="cat-item"><i class="fa-solid fa-gears"></i>
                            <p>น้ำมันเฟืองท้าย</p>
                        </div>
                        <div class="cat-item"><i class="fa-solid fa-toolbox"></i>
                            <p>ชุดเปลี่ยนถ่ายน้ำมันเครื่อง</p>
                        </div>
                        <div class="cat-item"><i class="fa-solid fa-heart"></i>
                            <p>ดูแลรักษารถ</p>
                        </div>
                    </div>
                </section>

                <section class="home-section">
                    <div class="section-header">
                        <h2>สินค้าแนะนำสำหรับคุณ</h2>
                    </div>
                    <div class="product-list" id="productList">
                        <div class="product">
                            <img src="http://placehold.co/200x200" alt="">
                            <div class="product-details">
                                <h3>Castrol EDGE 5W-30</h3>
                                <small>น้ำมันเครื่องสังเคราะห์แท้</small>
                                <p><i class="fa-solid fa-baht-sign"></i>&nbsp;1,450</p>
                                <div class="product-bottom">
                                    <small><i class="fa-solid fa-star"></i>&nbsp;4.9</small>
                                    <small>ขายแล้ว 1.2k</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </article>
        </main>
    </div>

    <script>
        const productList = document.getElementById("productList");
        window.addEventListener("DOMContentLoaded", () => {
            const productClone = productList.innerHTML;
            for (let i = 0; i < 7; i++) {
                productList.innerHTML += productClone;
            }
        });

        const slides = document.querySelectorAll('.hero-banner');
        const dots = document.querySelectorAll('.dot');
        let currentSlide = 0;
        let startX = 0;

        function showSlide(index) {
            slides.forEach(s => s.classList.remove('active'));
            dots.forEach(d => d.classList.remove('active'));

            currentSlide = index;
            slides[currentSlide].classList.add('active');
            dots[currentSlide].classList.add('active');
        }

        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                showSlide(index);
            });
        });

        const container = document.querySelector('.slider-container');

        container.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
        });

        container.addEventListener('touchend', (e) => {
            const endX = e.changedTouches[0].clientX;
            const diff = startX - endX;

            if (diff > 50) {
                let next = (currentSlide + 1) % slides.length;
                showSlide(next);
            } else if (diff < -50) {
                let prev = (currentSlide - 1 + slides.length) % slides.length;
                showSlide(prev);
            }
        });

        let autoSlide = setInterval(() => {
            let next = (currentSlide + 1) % slides.length;
            showSlide(next);
        }, 5000);

        // หยุดเลื่อนอัตโนมัติเมื่อมีการคลิกหรือแตะ
        container.addEventListener('mousedown', () => clearInterval(autoSlide));
        container.addEventListener('touchstart', () => clearInterval(autoSlide));
    </script>
</body>

</html>